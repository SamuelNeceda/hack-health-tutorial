import {Callout} from 'nextra-theme-docs'

# Database

For the purpose of this tutorial, we will use PostgreSQL database.

## PostgreSQL server

PostgreSQL server is confired to start automatically when the VM is started, but you can verify that it is running by running the following command in the terminal:

<Callout emoji="ðŸ’¡">
    When pasting command into the terminal, use CTRL+SHIFT+V to paste the command without formatting.
</Callout>

```bash copy
sudo service postgresql status
```

or

```bash copy
pgrep -u postgres -fa -- -D
```

When the server is running, you should get positive response from either of the commands above.

### PostgreSQL server not running

Insert following lines step by step into the terminal:

```bash copy
sudo /etc/init.d/postgresql start
sudo service postgresql start
```

Verify that the server is running.

## Create database

In the terminal, run the following command:

```bash copy
npm run db-create
```

## Create tables and insert data

Run the following command:

```bash copy
npm run db-seed
```

## Drop database

If you corrupt the database and data in it during exposing the vulnerabilities, you can drop the database and create it
again.
Run the following command:

```bash copy
npm run db-drop
```

To recreate the database, tables and records, run `npm run db-create` and `npm run db-seed` commands.

## [Optional] Interact with database

<Callout emoji="ðŸ’¡">
    1. To interact with PostgreSQL database server, you can use `psql` CLI.
    * You can type SQL commands to interact with database, and it also provides meta-commands to interact with the
    server.
    2. Second option is to use preinstalled GUI tool called DBeaver, but we strongly recommend to use `psql` CLI.
    Tutorial for these two tools is not part of this tutorial, but there are many available online.
</Callout>